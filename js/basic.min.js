osVersion=daum.Browser.osversion&&parseFloat(daum.Browser.osversion.replaceAll("_","."));function getDummy(){return new Date().getTime()+Math.ceil(Math.random()*2147483647)}var page=function(){this.item=[];this.json=[];this.ajaxUrl=[];this.current=[];this.pageEle=null;this.nilTag=null;this.pageNo=1;this.maxPage=3;this.itemNo=0}.members({addItem:function(c,a,b){this.item[this.itemNo]=c;this.json[this.itemNo]=window.DMTjson[a];this.ajaxUrl[this.itemNo]=b;this.current[this.itemNo]=$(this.item[this.itemNo]).className.substring(6)-1;this.itemNo++;return this},setHandler:function(b){var a=this;if(b.prev&&b.next){daum.addEvent($(b.prev),"click",function(c){a.prev();daum.Event.stopEvent(c)});daum.addEvent($(b.next),"click",function(c){a.next();daum.Event.stopEvent(c)})}return this},setTiara:function(a){this.nilTag=a;return this},setMaxPage:function(a){this.maxPage=a-1;return this},setPageEle:function(a){this.pageEle=$(a);return this},displayPageNo:function(a){$(this.item[a]).className="dmtpg_"+(this.current[a]+1);if(typeof this.pageEle==="object"&&a==0){this.pageEle.innerHTML=this.pageNo}},prev:function(){this.pageNo=(this.pageNo==1)?this.maxPage+1:this.pageNo-1;if(this.nilTag){this.sendAnalURL=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};this.sendAnalURL(this.nilTag+"prev")}for(var a=0;a<this.itemNo;a++){this.current[a]=(this.current[a]==0)?this.maxPage:this.current[a]-1;this.action(a)}},next:function(){this.pageNo=(this.pageNo==this.maxPage+1)?1:this.pageNo+1;if(this.nilTag){this.sendAnalURL=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};this.sendAnalURL(this.nilTag+"next")}for(var a=0;a<this.itemNo;a++){this.current[a]=(this.current[a]==this.maxPage)?0:this.current[a]+1;this.action(a)}},getJsonData:function(f){var e=[];var c=this.json[f];var b=this.current[f];for(var d=0,a=c[b].length;d<a;d++){e.push(c[b][d])}return e.join("")},callAjax:function(a){if(a){new daum.Ajax(a).request()}},onsuccess:function(i,r){this.json[i]=eval(r.responseText);$(this.item[i]).innerHTML=this.getJsonData(i);this.displayPageNo(i)},action:function(a){if((typeof this.json[a]!=="object")&&this.ajaxUrl[a]){var b={url:this.ajaxUrl[a],paramString:"",onsuccess:this.onsuccess.bind(this,a)};this.callAjax(b)}else{$(this.item[a]).innerHTML=this.getJsonData(a);this.displayPageNo(a)}}});var searchRank=function(){this.curPos=0;this.area=$("searchRankArea");this.title=$("serarchRankTitle");this.btn=$("searchRankBtn");this.json=[];this.svcName=[];this.container=this.area.getElementsByTagName("ul")&&this.area.getElementsByTagName("ul")[0];this.item=this.container.getElementsByTagName("li");this.len=this.item.length;this.nilTag=null;this.state=null}.members({roll:function(){if(this.area.className==="open"){return}if(this.item[this.curPos]){this.item[this.curPos].style.display="none"}this.curPos=this.item[this.curPos+1]?(this.curPos+1):0;this.item[this.curPos].style.display="block"},autoRoll:function(){window.setInterval(this.roll.bind(this),3000);return this},setTiara:function(a){this.nilTag=a;return this},addItem:function(b,a,c){this.json[b]=window.DMTjson[a];this.svcName[b]=c;return this},setHandler:function(b){var a=this;if(b.open){daum.addEvent($(b.open),"click",function(c){a.openClose();daum.Event.stopEvent(c)})}if(b.close){daum.addEvent($(b.close),"click",function(c){a.openClose();daum.Event.stopEvent(c)})}if(b.issue){daum.addEvent($(b.issue),"click",function(c){a.chgRankItem("issue");daum.Event.stopEvent(c)})}if(b.news){daum.addEvent($(b.news),"click",function(c){a.chgRankItem("news");daum.Event.stopEvent(c)})}return this},init:function(){this.setSvcItem();this.state="issue";return this},getJsonData:function(a){return this.json[a][0][0]},setSvcItem:function(b){var a=(typeof b=="undefined")?"issue":b;this.container.innerHTML=this.getJsonData(a)},setSvcTitle:function(a){this.title.innerHTML=this.svcName[a]},setSvcClass:function(a){this.container.className=a;this.btn.className=a},chgRankItem:function(a){if(!a||a==this.state){return}if(this.nilTag){this.sendAnalURL=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};this.sendAnalURL(this.nilTag+a)}try{this.setSvcTitle(a);this.setSvcClass(a);this.setSvcItem(a);this.curPos=0;this.state=a}catch(b){}},displayItem:function(c,a,b){for(var d=c;d<a;d++){this.item[d].style.display=b}},openClose:function(){var a=(this.area.className==="close")?"open":"close";if(this.nilTag){this.sendAnalURL=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};this.sendAnalURL(this.nilTag+a)}this.area.className=a;this.displayItem(0,this.len,"none");if(daum.Browser.android){daum.addClassName("contentWrap","noanchor")}if(a==="open"){this.displayItem(0,10,"block");if(daum.Browser.android){daum.addClassName("contentWrap","noanchor")}scrollTo(0,90)}else{this.curPos=this.item[this.curPos]?this.curPos:0;this.item[this.curPos].style.display="block";if(daum.Browser.android){daum.removeClassName("contentWrap","noanchor")}}}});function tabAction(h,g,f){if(!h){return false}var c=null;if(f){c=f}var b=g||"H3";var a=document.getElementById(h).getElementsByTagName(b);for(var d=0,e=a.length;d<e;d++){a[d].onclick=function(k){var j=(this.id).replace("Title","");var i=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};if(c){i(c+"="+j)}document.getElementById(h).className=j;daum.Event.stopEvent(k)}}}function submitSearch(c,a,d){var b=c||"btn";$("nilSearch").value=b;if(daum.Browser.iphone||daum.Browser.ipad||daum.Browser.ipod||daum.Browser.android){if(($("q").value=="")&&($("q").style.backgroundImage)&&(d)){document.location.href=d}else{$("search").submit()}}else{$("search").submit()}}var mConts={};mConts.currentTouch={};getEventTarget=function(b){var a=window.event||b;return a.target||a.srcElement};movePageWithHash=function(a){a=Number(a);syncHashToPageNo(a);movePage(a)};changeAnchor=function(b){var c=$("mTop").getElementsByTagName("blockquote");for(var a=0;a<c.length;a++){if(b!="all"&&a==mConts.currentPage){c[a].className="anchor"}else{c[a].className="noanchor"}}};getElementLeft=function(a){return a.currentLeft};setElementLeft=function(a,d,c){var b=a.style;if((daum.Browser.iphone||daum.Browser.ipad||daum.Browser.ipod)&&$("mTop").style.webkitTransform!=undefined){b["-webkit-transform-style"]="preserve-3d";b["-webkit-transition-duration"]=c+"ms";b.webkitTransform="translateX("+d+"%)"}else{b.left=d+"%"}a.currentLeft=d};moveAllBlock=function(d,c){if(!c){c=0}var f=$("mTop").getElementsByTagName("blockquote");for(var a=0;a<f.length;a++){var b=d+(a*100);if(b<=-200){b+=300}if(b>=200){b-=300}var e=Math.abs(getElementLeft(f[a]))+Math.abs(b);if(e>=200){setElementLeft(f[a],b,0)}else{setElementLeft(f[a],b,c)}}};movePage=function(a,b){mConts.currentPage=a;if(!b){b=0}moveAllBlock(a*-100,b);changeAnchor()};mConts.bindBtns=function(){var d=$("mtopSwipeNav");var c=d.getElementsByTagName("button");for(var b=0;b<c.length;b++){var a=c[b];if(a.className.indexOf("btn_prev")>=0){a.onclick=function(f){mConts.move($("mTop"),-1);daum.Event.preventDefault(f)}}else{if(a.className.indexOf("btn_next")>=0){a.onclick=function(f){mConts.move($("mTop"),1);daum.Event.preventDefault(f)}}else{a.onclick=function(f){var g=this.className.substr(6);movePageWithHash(g);daum.Event.preventDefault(f)}}}}$("mtopSwipeNav").onclick=function(h){var g=getEventTarget(h);if(g.nodeName=="A"){var f=g.className.replace(" on","");var i=f.substr(6);movePageWithHash(i);daum.Event.prevDefault(h)}}};mConts.isNewTouch=true;mConts.isFlicking=false;mConts.bindTouches=function(a){var b=a.parentNode.offsetWidth;a.ontouchstart=function(c){var d=c.touches[0];mConts.currentTouch.startX=d.screenX;mConts.currentTouch.startY=d.screenY;mConts.currentTouch.startTime=Date.now()};a.ontouchmove=function(d){var f=d.touches[0];if(mConts.isNewTouch){if(Math.abs(mConts.currentTouch.startX-f.screenX)>Math.abs(mConts.currentTouch.startY-f.screenY)){mConts.isFlicking=true;if(daum.Browser.iphone&&osVersion<4){$("blockClick").style.visibility="visible"}}mConts.isNewTouch=false}if(mConts.isFlicking){daum.Event.stopEvent(d);daum.Event.preventDefault(d);var c=((mConts.currentTouch.startX-f.screenX)/b+mConts.currentPage)*-100;moveAllBlock(c)}};a.ontouchend=function(f){if(mConts.isFlicking){var g=f.changedTouches[0];var d=Math.abs(mConts.currentTouch.startX-g.screenX);var c=Math.abs(mConts.currentTouch.startY-g.screenY);if(d>b/2||(Date.now()-mConts.currentTouch.startTime<500&&d*2>c&&d>50)){mConts.move(this,mConts.currentTouch.startX-g.screenX)}else{movePage(mConts.currentPage,500)}if(daum.Browser.iphone&&osVersion<4){setTimeout(function(){$("blockClick").style.visibility="hidden"},600)}mConts.isFlicking=false}mConts.isNewTouch=true}};mConts.currentPage=0;mConts.move=function(b,c){if(c>0){mConts.currentPage++}else{if(c<0){mConts.currentPage--}}if(mConts.currentPage==-1){mConts.currentPage=2}if(mConts.currentPage==3){mConts.currentPage=0}syncHashToPageNo(mConts.currentPage);var a=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};setTimeout(function(){a("t__nil_topnavi="+mConts.currentPage)},200);movePage(mConts.currentPage,100)};var syncHashToPageNo=function(c){var a=document.location.href;var d=a.indexOf("#");if(d>0){a=a.substr(0,d)}var b="";if(c==0){b="basic"}else{if(c==1){b="content"}else{if(c==2){b="today"}}}clearObserveHash();document.location.href=a+"#"+b;setTimeout(setObserveHash,100)};mConts.init=function(){var a=$("mTop");mConts.bindTouches(a);mConts.bindBtns();movePage(pageNo);daum.addEvent(window,"orientationchange",function(){a.style["-webkit-transform-style"]="flat"});setTimeout(function(){if(window.pageYOffset==0){window.scrollTo(0,1)}},100)};daum.addEvent(window,"load",mConts.init);var tObserveHash;var setObserveHash=function(){if("onhashchange" in window){window.onhashchange=function(){movePage(getPageNo(),200)}}else{var a=window.location.hash;tObserveHash=window.setInterval(function(){if(window.location.hash!=a){a=window.location.hash;movePage(getPageNo())}},100)}};var clearObserveHash=function(){if("onhashchange" in window){window.onhashchange=function(){}}else{clearInterval(tObserveHash)}};function moveBasic(){if(pageNo!=0){movePageWithHash(0)}}function setCookie(e,g,c,a,f){var b=new Date();b.setTime(b.getTime()+(c*1000*60*60*24));var d=[];d[d.length]=e+"="+escape(g);d[d.length]=c?"; expires="+b.toGMTString():"";d[d.length]=a?"; path="+a:"";d[d.length]="; domain="+(f?f:window.location.hostname);document.cookie=d.join("")}function clearKeyValue(c){var a=document.getElementById("daumBtnClear");var b=document.getElementById("q");a.style.display="none";b.value="";b.focus()}function checkKeyValue(){var a=document.getElementById("daumBtnClear");var b=document.getElementById("q");if(b.value==""){a.style.display="none"}else{a.style.display="block"}}function displayFunMore(){var a=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};if(daum.Element.hasClassName("funMore","on")){a("t__nil_fun=off");daum.Element.removeClassName("funMore","on");if(daum.Browser.android){daum.removeClassName("hotTrend","noanchor")}}else{a("t__nil_fun=on");daum.Element.addClassName("funMore","on");if(daum.Browser.android){daum.addClassName("hotTrend","noanchor")}}}function displayContsMore(){var a=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};if(daum.Element.hasClassName("contentMore","on")){a("t__nil_content=off");daum.Element.removeClassName("contentMore","on");if(daum.Browser.android){daum.removeClassName("liveStory","noanchor")}}else{a("t__nil_content=on");daum.Element.addClassName("contentMore","on");if(daum.Browser.android){daum.addClassName("liveStory","noanchor")}}}daum.suggest.Service.init();var sug1=daum.suggest.Service.add("q","daumSuggestWrap","http://sug.tocteen.daum.net","/top_mbsuggest","sug1.dataModel.forceLoadComplete",true).setEncodeKeyword("utf_in_out").setBeforeSubmitFunc(function(a){submitSearch("suggest",a)}).setLimit([10,0]).setForm(document.search);(function(){(new searchRank()).autoRoll().addItem("issue","issueRank","실시간이슈").addItem("news","newsRank","실시간뉴스").setHandler({open:"rankOpen",close:"rankClose",issue:"issue_btn",news:"news_btn"}).setTiara("t__nil_searchrank=").init();tabAction("enterArea",null,"t__nil_basic_navi");(new page()).addItem("newsTxt","newsTxt","js_news_txt.daum").addItem("newsImg","newsImg","js_news_img.daum").setHandler({prev:"news_prev",next:"news_next"}).setTiara("t__nil_mnews=").setMaxPage(4).setPageEle("newsPageNo");(new page()).addItem("funTxt","funTxt","js_fun_txt.daum").addItem("funImg","funImg","js_fun_img.daum").setHandler({prev:"fun_prev",next:"fun_next"}).setTiara("t__nil_fun=").setMaxPage(4).setPageEle("funPageNo");(new page()).addItem("trendTxt","trendTxt","js_trendsearch_txt.daum").addItem("trendImg","trendImg","js_trendsearch_img.daum").setHandler({prev:"trend_prev",next:"trend_next"}).setTiara("t__nil_trend=").setMaxPage(4).setPageEle("trendPageNo");daum.addEvent($("funOpen"),"click",function(a){displayFunMore();daum.Event.preventDefault(a)});daum.addEvent($("funClose"),"click",function(a){displayFunMore();daum.Event.preventDefault(a)});daum.addEvent($("goPC"),"click",function(){setCookie("M_P2M","N",null,"/",".daum.net")})})();function isApps(){return daum.Browser.getCookie("daumGlueApp")?true:false}function setGeolocation(a,b){if(isApps()){getAppsPos(a.name)}else{getGeoLocation(a,errorHandler)}}function getAppsPos(a){window.location.replace("daumglue://daum.geolocation/getCurrentPosition?onError=errorHandler&onSuccess="+a)}function getGeoLocation(b,a){if(typeof navigator.geolocation=="object"){navigator.geolocation.getCurrentPosition(function(c){if(typeof b=="function"){b(c)}},a,{enableHighAccuracy:true,timeout:10000,maximumAge:0})}else{alert("해당 모바일기기 또는 브라우져에서 현위치찾기 기능을 지원하지 않습니다.")}}function errorHandler(a){alert(getGeolocationError(a));if(isApps()){window.location.replace("http://"+document.location.host+document.location.pathname)}return false}function getGeolocationError(a){switch(a.code){case 1:return"위치 정보 사용 거부로 인해 현재 위치를 확인할 수 없습니다.";break;case 2:default:return"실내에 있거나 네트워크 사정, 또는 위치 설정으로 인해 현재 위치를 찾을 수 없습니다";break}}function setCurPos(a){var d=(a.coords)?parseFloat(a.coords.longitude):a.split("|")[0];var b=(a.coords)?parseFloat(a.coords.latitude):a.split("|")[1];var c={url:"js_search_api.daum?lat="+b+"&lon="+d,onsuccess:function(e){loadSchJson(e.responseText)},onfailure:function(){setAddress("위치를 가져올 수 없음")}};new daum.Ajax(c).request()}function loadSchJson(pJson){eval("DMTjson.schData = "+pJson);setAddress();setWeather();setCateIcon();setUserLocation();var d=new Date(),day="";d.setDate(d.getDate()+3);document.cookie="daumGpos="+DMTjson.schData.regionInfo.daumGpos+";domain=daum.net;path=/;expires="+d.toGMTString()+";"}function setAddress(a){if(a){$("userLocation").innerHTML=a}else{if(DMTjson.schData.regionInfo.caddr){$("userLocation").innerHTML=DMTjson.schData.regionInfo.caddr}}}function setWeather(){if(DMTjson.schData.regionInfo){var a=DMTjson.schData.regionInfo.weather;$("forecast").setAttribute("href","http://m.search.daum.net/mobile/search?w=tot&nil_mtopsearch=weather&q="+encodeURIComponent(a.query+" 날씨")+"&t__nil_place=weather");$("forecast").innerHTML='<span id="wIcon" class="s'+daum.Number.fillZero(a.iconno,2)+'">'+a.weatext+'</span><span class="w_tit"><strong>'+a.weatext+"</strong><i>"+a.temp+'℃</i></span><span class="rain_fall">강수확률<i>'+a.rainprob+"%</i></span>"}else{if(DMTjson.weather){$("forecast").setAttribute("href",DMTjson.weather[0]);$("forecast").innerHTML=DMTjson.weather[1]}}}function setCateIcon(){if(DMTjson.schData.regionInfo){for(var c=0;c<3;c++){var f=DMTjson.schData.regionInfo.recommend;var b=f.categories[c].filter_cate;var e=f.categories[c].q;var d=f.icons[c];var g=f.names[c];var a=2;$("chgPlace"+c).innerHTML='<a href="http://m.search.daum.net/mobile/search?w=tot&m_f=spot&nil_mtopsearch=spot&rtupcoll=GG1,GG2&filter_cate='+b+"&q="+encodeURIComponent(e)+"&t__nil_place=icon&nil_id="+a+'" class="'+d+'"><span>'+g+"</span></a>";a++}}}function setUserLocation(){if((DMTjson.schData.regionInfo)&&(daum.Browser.iphone||daum.Browser.ipod||daum.Browser.ipad||daum.Browser.android)){var d=DMTjson.schData.regionInfo.rloc;var c=$("lastLocation");var b='<option value="">최근위치</option>';if(d.codes.length==1){b+='<option value="'+d.codes[0].lon+"|"+d.codes[0].lat+'">'+d.names+"</option>"}else{if(d.codes.length>1){for(var a=0;a<d.codes.length;a++){b+='<option value="'+d.codes[a].lon+"|"+d.codes[a].lat+'">'+d.names[a]+"</option>"}}}c.innerHTML=b;c.onchange=function(g){if(this.value){var f=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};f("t__nil_place=lastgeo");setCurPos(this.value)}daum.Event.stopEvent(g)};c.style.display="block"}}function loadPage(c,e,f,d){var a=daum.Browser.getCookie(c.replace(".daum",""));var b=(typeof window.localStorage==="object")?localStorage.getItem(c.replace("daum","")+a):"";if(b&&(a==d)){$(e).innerHTML=b;f()}else{new daum.Ajax({url:c,onsuccess:function(h){var g=h.responseText;$(e).innerHTML=g;f();if(typeof window.localStorage==="object"){localStorage.removeItem(c.replace("daum","")+a);localStorage.setItem(c.replace("daum","")+d,g)}daum.Browser.setCookie(c.replace(".daum",""),d,30)},onfailure:moveBasic}).request()}}function todayLoaded(){$("qLinkToday").innerHTML+=DMTjson.qLink[0];$("shopping").setAttribute("href",DMTjson.shopping[0]);$("shopping").innerHTML=DMTjson.shopping[1];$("stock").innerHTML=DMTjson.stock;if((daum.Browser.getCookie("daumGpos"))&&(typeof DMTjson.schData.regionInfo!=="undefined")){setAddress();setWeather();setCateIcon();setUserLocation()}else{$("forecast").setAttribute("href",DMTjson.weather[0]);$("forecast").innerHTML=DMTjson.weather[1]}if(daum.Browser.iphone||daum.Browser.ipod||daum.Browser.ipad||daum.Browser.android){daum.addEvent($("setLocation"),"click",function(b){if((isClick==undefined)||(isClick==false)){isClick=true;var a=(typeof tiaraManager==="object"&&typeof tiaraManager.sendAnalURL==="function")?tiaraManager.sendAnalURL:function(){};a("t__nil_place=geo");setGeolocation(setCurPos);isClick=false}daum.Event.stopEvent(b)});$("setLocation").style.display="block"}};